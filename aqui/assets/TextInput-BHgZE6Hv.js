import{j as n}from"./jsx-runtime-DRClx6Cp.js";import{R as be,r as t}from"./iframe-BUXjA_EM.js";import{j as B,c as V,P as e,b as ye,u as xe,r as ve,a as Ie}from"./componentUtils-BJ08TX4K.js";import{a as Te}from"./MagnifyingGlassIcon-IHK9au6f.js";import{d as qe}from"./misc-B0FWEJCq.js";import{i as E,a as K}from"./proptypes-Dh7iY7no.js";import{C as z}from"./CharCounter-BXgtrBSx.js";import{C as Ce}from"./ChevronIcon-z8cClqRK.js";import{I as we}from"./IconFlip-Bhr56N6U.js";import{T as Re}from"./Typography-CzJv1HNy.js";import{P as J}from"./Popover-Bolqx2fa.js";import{M as Oe,a as ke}from"./MenuItem-DpOrCNXG.js";import{M as Ne}from"./MenuTitle-Dh4pe7dD.js";import{G as je}from"./Grow-BcAUni8a.js";const Le="_popover_nayb9_149",S={"input-section":"_input-section_nayb9_1","--char-counter-bottom":"_--char-counter-bottom_nayb9_5","input-frame":"_input-frame_nayb9_9","input-frame__icon":"_input-frame__icon_nayb9_19","input-frame__close-button":"_input-frame__close-button_nayb9_25","--light":"_--light_nayb9_31","--dark":"_--dark_nayb9_34","--visible":"_--visible_nayb9_37","input-frame__left-icon":"_input-frame__left-icon_nayb9_42","--popover-open":"_--popover-open_nayb9_55","--disabled":"_--disabled_nayb9_58","--invalid":"_--invalid_nayb9_58","input-frame__input":"_input-frame__input_nayb9_74","--bold":"_--bold_nayb9_91","--under-tags":"_--under-tags_nayb9_97","--rtl":"_--rtl_nayb9_111","text-input-button":"_text-input-button_nayb9_115","--with-icon":"_--with-icon_nayb9_130","--pressed":"_--pressed_nayb9_138","text-input-button__chevron-icon":"_text-input-button__chevron-icon_nayb9_144",popover:Le},Be=V.bind(S),D=be.forwardRef(({text:a,className:m,RightIcon:r,dark:u=!1,pressed:p=!1,...c},o)=>n.jsxs("div",{...c,ref:o,className:Be("text-input-button",m,{"--dark":u,"--with-icon":!!r,"--pressed":p}),children:[n.jsx(Re,{tag:"span",type:"body2",children:a}),B(r)]})),Ee={text:e.string,className:e.string,dark:e.bool,pressed:e.bool,RightIcon:E};D.propTypes=Ee;D.__docgenInfo={description:"",methods:[],displayName:"TextInputButton",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark",type:{name:"bool"},required:!1},pressed:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} pressed",type:{name:"bool"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {string} className",type:{name:"string"},required:!1},RightIcon:{description:"@prop {Component | JSX} RightIcon",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1}}};const A=V.bind(S),P=t.forwardRef(({children:a,text:m,onPopoverOpenChange:r=null,className:u},p)=>{const[c,o]=t.useState(null),h=v=>{r?.(!0),o(v.currentTarget)},x=()=>{r?.(!1),o(null)},d=!!c;return n.jsxs(n.Fragment,{children:[n.jsx(D,{ref:p,text:m,pressed:d,RightIcon:n.jsx(we,{flip:d,orientation:"horizontal",children:n.jsx(Ce,{className:A("text-input-button__chevron-icon"),direction:"down"})}),onClick:h,className:u}),n.jsx(J,{className:A("popover"),open:d,anchorEl:c,onClose:x,onClick:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:a})]})}),Pe={text:e.string,onPopoverOpenChange:e.func,className:e.string};P.propTypes=Pe;P.__docgenInfo={description:"",methods:[],displayName:"TextInputPopoverButton",props:{onPopoverOpenChange:{defaultValue:{value:"null",computed:!1},description:"@prop {func} onPopoverOpenChange",type:{name:"func"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {strin} className",type:{name:"string"},required:!1}}};const Ve={"tags-lines":"_tags-lines_17fes_1","tags-lines__tag":"_tags-lines__tag_17fes_8","hidden-tags-button":"_hidden-tags-button_17fes_12","--dark":"_--dark_17fes_19","tag-menu-item":"_tag-menu-item_17fes_23","hidden-tags-menu":"_hidden-tags-menu_17fes_27"},L=V.bind(Ve),G=({Tags:a,maxLines:m,textarea:r,textInputRefInner:u,tagLabel:p="items",tagSingleLabel:c,dark:o=!1})=>{const[h,x]=t.useState(null),d=t.useRef(),v=t.useRef(),_=t.useRef([]).current,I=a.length-h,F=I===1&&c?c:p,[H,b]=t.useState(!1);t.useLayoutEffect(()=>{const i=new Set;_.length=a.length;let l=null;const f=d.current;f.innerHTML="+444",f.style.display="block";for(const y of _)y.style.display="none";i.add(u.current.getBoundingClientRect().top);for(const[y,O]of _.entries())if(O.style.display="inline-flex",i.add(u.current.getBoundingClientRect().top),i.size>m){O.style.display="none",l=l??y;break}const R=l===null?0:a.length-l;R?(f.innerHTML=`+${R}`,f.style.display="block"):(f.style.display="none",b(!1)),x(l)},[_,a.length,u,m]);const w=!!h;return n.jsxs("div",{ref:v,className:L("tags-lines"),children:[t.Children.map(a,(i,l)=>n.jsx(je,{in:!0,children:ye(i,{ref:f=>_[l]=f,className:L("tags-lines__tag")})},i.key)),n.jsx("span",{onClick:()=>b(!0),ref:d,className:L("hidden-tags-button",{"--dark":o})}),w&&n.jsx(J,{open:H,anchorEl:d.current,anchorOrigin:{horizontal:"left",vertical:"top"},onClose:()=>b(!1),children:n.jsxs(Oe,{dark:o,className:L("hidden-tags-menu",{"--dark":o}),children:[n.jsx(Ne,{dark:o,children:`+${I} ${F}`.toUpperCase()}),t.Children.map(a,(i,l)=>l<h?null:n.jsx(ke,{noninteractive:!0,dark:o,children:i},i.key))]})}),r]})};G.__docgenInfo={description:"",methods:[],displayName:"TextInputTags",props:{tagLabel:{defaultValue:{value:"'items'",computed:!1},required:!1},dark:{defaultValue:{value:"false",computed:!1},required:!1}}};const C=V.bind(S),Fe=13,W=t.forwardRef(({value:a,setValue:m,disabled:r,className:u,dark:p=!1,placeholder:c,onChange:o,onKeyDown:h,onFocus:x,onBlur:d,autoFocus:v,selectOnFocus:_=!1,inputMaxLength:I,tabIndex:F,filterNewLine:H,filterChars:b,growWithText:w,withClearButton:i,onClearButtonClick:l,invalid:f=!1,bold:R=!1,Tags:y=null,maxTagsLines:O=2,tagLabel:U,tagSingleLabel:X,LeftIcon:Y=null,RightIcon:Q=null,dataId:Z,dataTestId:ee,onClick:ne,textInputRef:te,containerRef:ae,Button:k=null,charCounterPosition:N=null,...oe},se)=>{const[T,M]=xe(a,m,""),g=t.useRef(),[re,ie]=t.useState(!1),le=k===P||k?.type===P;t.useLayoutEffect(()=>{pe()},[T]),t.useEffect(()=>{typeof a=="string"&&M(a)},[a,Z]),t.useEffect(()=>{v&&ue()},[v]);const ue=()=>{g.current.focus()},pe=()=>{w&&(g.current.style.height="0",g.current.style.height=ve(g.current.scrollHeight))},ce=({nativeEvent:s})=>{let q=s.target.value;const he=Array.isArray(b)?b:[b];for(const j of he)typeof j=="string"?q=[...q].filter(_e=>!j.includes(_e)).join(""):j instanceof RegExp&&(q=q.replace(j,""));M(q),o?.(q,s)},de=({nativeEvent:s})=>{H&&s.keyCode===Fe&&s.preventDefault(),h?.(s)},fe=({nativeEvent:s})=>{_&&g.current.select(),x?.(s)},me=s=>{r||(g.current.focus(),ne?.(s))},ge=({nativeEvent:s})=>{r||(M(""),o?.("",s),l?.(s))},$=n.jsx("textarea",{value:T||"",className:C("input-frame__input","aquiTextInput__input",{"--rtl":qe(T?.[0]),"--bold":R,"--disable-multiline":!w,"--under-tags":!!y}),placeholder:c,onFocus:fe,onKeyDown:de,onChange:ce,rows:w?void 0:1,onBlur:d,disabled:r,tabIndex:F,maxLength:I,autoComplete:"off","data-testid":"multilineInput",ref:Ie(g,te)});return n.jsxs("div",{ref:ae,...oe,className:C(u,"input-section",{"--dark":p,"--light":!p,"--with-button":!!k,"--popover-open":re,"--char-counter-bottom":N==="bottom"}),"data-testid":ee,children:[n.jsxs("div",{ref:se,className:C("input-frame","aquiTextInput__inputFrame",{"--disabled":r,"--invalid":f}),onClick:me,children:[B(Y,{className:C("input-frame__left-icon","aquiTextInput__leftIcon")}),y?n.jsx(G,{Tags:y,maxLines:O,tagLabel:U,tagSingleLabel:X,textInputRefInner:g,textarea:$,dark:p}):$,i&&n.jsx(Te,{dataTestId:"textareaClearButton",onClick:ge,className:C("input-frame__close-button","aquiTextInput__closeIcon",{"--visible":!!T})}),B(Q,{className:C("aquiTextInput__rightIcon")}),B(k,le?{onPopoverOpenChange:ie}:{}),N==="inside"&&n.jsx(z,{length:T.length,maxLength:I})]}),(N==="right"||N==="bottom")&&n.jsx(z,{length:T.length,maxLength:I})]})}),He={value:e.string,textInputRef:K,containerRef:K,setValue:e.func,disabled:e.bool,invalid:e.bool,bold:e.bool,className:e.string,dark:e.bool,placeholder:e.string,onClick:e.func,onChange:e.func,onKeyDown:e.func,onFocus:e.func,onBlur:e.func,autoFocus:e.oneOfType([e.bool,e.number]),inputMaxLength:e.number,selectOnFocus:e.bool,tabIndex:e.number,filterNewLine:e.bool,filterChars:e.oneOfType([e.string,e.instanceOf(RegExp),e.arrayOf(e.instanceOf(RegExp))]),growWithText:e.bool,withClearButton:e.bool,onClearButtonClick:e.func,LeftIcon:E,RightIcon:E,dataId:e.string,dataTestId:e.string,Button:E,Tags:e.array,maxTagsLines:e.number,tagLabel:e.string,tagSingleLabel:e.string,charCounterPosition:e.oneOf(["bottom","right","inside"])};W.propTypes=He;W.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark use a dark theme",type:{name:"bool"},required:!1},selectOnFocus:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} selectOnFocus selects the content of the text input on focus event",type:{name:"bool"},required:!1},invalid:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} invalid colors the border red",type:{name:"bool"},required:!1},bold:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} bold makes the text bold",type:{name:"bool"},required:!1},Tags:{defaultValue:{value:"null",computed:!1},description:`@prop {[]} Tags an array of Tag elements,
@note this feature is not designed to work in conjunction with growWithText`,type:{name:"array"},required:!1},maxTagsLines:{defaultValue:{value:"2",computed:!1},description:"@prop {number} maxTagsLines the maximum number of lines the text input can grow to when using Tags",type:{name:"number"},required:!1},LeftIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} LeftIcon will be placed inside the text input to the left
@note this prop overrides RightIcon`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},RightIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} RightIcon will be placed inside the text input to the right
@note this prop is ignored when withClearButton=true`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},Button:{defaultValue:{value:"null",computed:!1},description:"@prop {Component|Jsx} Button",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},charCounterPosition:{defaultValue:{value:"null",computed:!1},description:`@prop {'bottom' | 'right' | 'inside'} charCounterPosition
@note if not specified charCounter will not be displayed`,type:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'right'",computed:!1},{value:"'inside'",computed:!1}]},required:!1},value:{description:"@prop {string} value",type:{name:"string"},required:!1},textInputRef:{description:`@prop {React.RefObject} textInputRef
this ref will be passed onto the native text input element inside the component`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},containerRef:{description:`@prop {React.RefObject} containerRef
this ref will be passed onto the outer container ref`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},setValue:{description:"@prop {func} setValue setState function, if not provided an internal state will be used",type:{name:"func"},required:!1},disabled:{description:"@prop {bool} disabled",type:{name:"bool"},required:!1},className:{description:`@prop {string} className
@note className is placed on outer container
inner global classes: ['aquiTextInput', 'aquiTextInput__leftIcon', 'aquiTextInput__rightIcon', 'aquiTextInput__inputFrame', 'aquiTextInput__input', 'aquiTextInput__closeIcon', 'aquiTextInput__validationErrorMessage']`,type:{name:"string"},required:!1},placeholder:{description:"@prop {string} placeholder",type:{name:"string"},required:!1},onClick:{description:`@prop {func} onClick
called with (event)`,type:{name:"func"},required:!1},onChange:{description:`@prop {func} onChange
called with (new value, event)`,type:{name:"func"},required:!1},onKeyDown:{description:`@prop {func} onKeyDown
called with (event)`,type:{name:"func"},required:!1},onFocus:{description:`@prop {func} onFocus
called with (event)`,type:{name:"func"},required:!1},onBlur:{description:`@prop {func} onBlur
called with (event)`,type:{name:"func"},required:!1},autoFocus:{description:`@prop {bool|number} autoFocus
@note you can you a positive number and increment it`,type:{name:"union",value:[{name:"bool"},{name:"number"}]},required:!1},inputMaxLength:{description:"@prop {number} inputMaxLength",type:{name:"number"},required:!1},tabIndex:{description:"@prop {number} tabIndex",type:{name:"number"},required:!1},filterNewLine:{description:"@prop {bool} filterNewLine",type:{name:"bool"},required:!1},filterChars:{description:`@prop {str|RegExp} filterChars
chars to filter, pass a string, a regex, or an array of regexs to use sequentialy`,type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"RegExp"},{name:"arrayOf",value:{name:"instanceOf",value:"RegExp"}}]},required:!1},growWithText:{description:"@prop {bool} growWithText defaults to true",type:{name:"bool"},required:!1},withClearButton:{description:"@prop {string} withClearButton",type:{name:"bool"},required:!1},onClearButtonClick:{description:`@prop {func} onClearButtonClick
called with (event)`,type:{name:"func"},required:!1},dataId:{description:`@prop {string} dataId
data identifier, a change in this prop will reset the component's inner state`,type:{name:"string"},required:!1},dataTestId:{description:"@prop {string} value",type:{name:"string"},required:!1},tagLabel:{description:"@prop {string} tagLabel the label for items in the hidden tags menu title. Default is 'items'.",type:{name:"string"},required:!1},tagSingleLabel:{description:"@prop {string} tagSingleLabel the label for a single item in the hidden tags menu title. If not provided, the tagLabel will be displayed.",type:{name:"string"},required:!1}}};export{Fe as E,W as T,D as a,P as b,He as c};
