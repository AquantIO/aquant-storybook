import{j as t}from"./jsx-runtime-B-bwlRv9.js";import{R as _e,r as n}from"./iframe-DvXtawEz.js";import{j as O,c as L,P as e,b as be,u as xe,r as ye,a as ve}from"./componentUtils-uB8ei2M8.js";import{a as Ie}from"./MagnifyingGlassIcon-TFBIoPSQ.js";import{d as Te}from"./misc-B0FWEJCq.js";import{i as N,a as S}from"./proptypes-vSApzSxI.js";import{C as D}from"./CharCounter-IB8XYfND.js";import{C as qe}from"./ChevronIcon-BBTlAHGR.js";import{I as Ce}from"./IconFlip-LdrcZNSb.js";import{T as je}from"./Typography-6hT6pf5K.js";import{P as K}from"./Popover-C_gnkvBW.js";import{M as we,a as Re}from"./MenuItem-DTEY3Zw9.js";import{M as ke}from"./MenuTitle-B9G0MJSo.js";import{G as Oe}from"./Grow-B6bkkwUW.js";const Ne="_popover_1c06j_149",F={"input-section":"_input-section_1c06j_1","--char-counter-bottom":"_--char-counter-bottom_1c06j_5","input-frame":"_input-frame_1c06j_9","input-frame__icon":"_input-frame__icon_1c06j_19","input-frame__close-button":"_input-frame__close-button_1c06j_25","--light":"_--light_1c06j_31","--dark":"_--dark_1c06j_34","--visible":"_--visible_1c06j_37","input-frame__left-icon":"_input-frame__left-icon_1c06j_42","--popover-open":"_--popover-open_1c06j_55","--disabled":"_--disabled_1c06j_58","--invalid":"_--invalid_1c06j_58","input-frame__input":"_input-frame__input_1c06j_74","--bold":"_--bold_1c06j_91","--under-tags":"_--under-tags_1c06j_97","--rtl":"_--rtl_1c06j_111","text-input-button":"_text-input-button_1c06j_115","--with-icon":"_--with-icon_1c06j_130","--pressed":"_--pressed_1c06j_138","text-input-button__chevron-icon":"_text-input-button__chevron-icon_1c06j_144",popover:Ne},Be=L.bind(F),H=_e.forwardRef(({text:o,className:f,RightIcon:r,dark:c=!1,pressed:m=!1,...p},d)=>t.jsxs("div",{...p,ref:d,className:Be("text-input-button",f,{"--dark":c,"--with-icon":!!r,"--pressed":m}),children:[t.jsx(je,{tag:"span",type:"body2",children:o}),O(r)]})),Le={text:e.string,className:e.string,dark:e.bool,pressed:e.bool,RightIcon:N};H.propTypes=Le;H.__docgenInfo={description:"",methods:[],displayName:"TextInputButton",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark",type:{name:"bool"},required:!1},pressed:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} pressed",type:{name:"bool"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {string} className",type:{name:"string"},required:!1},RightIcon:{description:"@prop {Component | JSX} RightIcon",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1}}};const $=L.bind(F),B=n.forwardRef(({children:o,text:f,onPopoverOpenChange:r=null,className:c},m)=>{const[p,d]=n.useState(null),h=b=>{r?.(!0),d(b.currentTarget)},_=()=>{r?.(!1),d(null)},s=!!p;return t.jsxs(t.Fragment,{children:[t.jsx(H,{ref:m,text:f,pressed:s,RightIcon:t.jsx(Ce,{flip:s,orientation:"horizontal",children:t.jsx(qe,{className:$("text-input-button__chevron-icon"),direction:"down"})}),onClick:h,className:c}),t.jsx(K,{className:$("popover"),open:s,anchorEl:p,onClose:_,onClick:_,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:o})]})}),Ee={text:e.string,onPopoverOpenChange:e.func,className:e.string};B.propTypes=Ee;B.__docgenInfo={description:"",methods:[],displayName:"TextInputPopoverButton",props:{onPopoverOpenChange:{defaultValue:{value:"null",computed:!1},description:"@prop {func} onPopoverOpenChange",type:{name:"func"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {strin} className",type:{name:"string"},required:!1}}};const Pe={"tags-lines":"_tags-lines_jwtvy_1","tags-lines__tag":"_tags-lines__tag_jwtvy_8","hidden-tags-button":"_hidden-tags-button_jwtvy_12","tag-menu-item":"_tag-menu-item_jwtvy_20"},V=L.bind(Pe),z=({Tags:o,maxLines:f,textarea:r,textInputRefInner:c,tagLabel:m="items"})=>{const[p,d]=n.useState(null),h=n.useRef(),_=n.useRef(),s=n.useRef([]).current,[b,T]=n.useState(!1);n.useLayoutEffect(()=>{const i=new Set;s.length=o.length;let l=null;const u=h.current;u.innerHTML="+444",u.style.display="block";for(const C of s)C.style.display="none";i.add(c.current.getBoundingClientRect().top);for(const[C,j]of s.entries())if(j.style.display="inline-flex",i.add(c.current.getBoundingClientRect().top),i.size>f){j.style.display="none",l=l??C;break}const x=l===null?0:o.length-l;x?(u.innerHTML=`+${x}`,u.style.display="block"):(u.style.display="none",T(!1)),d(l)},[s,o.length,c,f]);const q=!!p;return t.jsxs("div",{ref:_,className:V("tags-lines"),children:[n.Children.map(o,(i,l)=>t.jsx(Oe,{in:!0,children:be(i,{ref:u=>s[l]=u,className:V("tags-lines__tag")})},i.key)),t.jsx("span",{onClick:()=>T(!0),ref:h,className:V("hidden-tags-button")}),q&&t.jsx(K,{open:b,anchorEl:h.current,anchorOrigin:{horizontal:"left",vertical:"top"},onClose:()=>T(!1),children:t.jsxs(we,{children:[t.jsx(ke,{children:`+${o.length-p} ${m}`.toUpperCase()}),n.Children.map(o,(i,l)=>l<p?null:t.jsx(Re,{noninteractive:!0,children:i},i.key))]})}),r]})};z.__docgenInfo={description:"",methods:[],displayName:"TextInputTags",props:{tagLabel:{defaultValue:{value:"'items'",computed:!1},required:!1}}};const I=L.bind(F),Ve=13,A=n.forwardRef(({value:o,setValue:f,disabled:r,className:c,dark:m=!1,placeholder:p,onChange:d,onKeyDown:h,onFocus:_,onBlur:s,autoFocus:b,selectOnFocus:T=!1,inputMaxLength:q,tabIndex:i,filterNewLine:l,filterChars:u,growWithText:x,withClearButton:C,onClearButtonClick:j,invalid:J=!1,bold:G=!1,Tags:E=null,maxTagsLines:W=2,tagLabel:U,LeftIcon:X=null,RightIcon:Y=null,dataId:Q,dataTestId:Z,onClick:ee,textInputRef:te,containerRef:ne,Button:w=null,charCounterPosition:R=null,...oe},ae)=>{const[y,P]=xe(o,f,""),g=n.useRef(),[re,se]=n.useState(!1),ie=w===B||w?.type===B;n.useLayoutEffect(()=>{ue()},[y]),n.useEffect(()=>{typeof o=="string"&&P(o)},[o,Q]),n.useEffect(()=>{b&&le()},[b]);const le=()=>{g.current.focus()},ue=()=>{x&&(g.current.style.height="0",g.current.style.height=ye(g.current.scrollHeight))},pe=({nativeEvent:a})=>{let v=a.target.value;const ge=Array.isArray(u)?u:[u];for(const k of ge)typeof k=="string"?v=[...v].filter(he=>!k.includes(he)).join(""):k instanceof RegExp&&(v=v.replace(k,""));P(v),d?.(v,a)},ce=({nativeEvent:a})=>{l&&a.keyCode===Ve&&a.preventDefault(),h?.(a)},de=({nativeEvent:a})=>{T&&g.current.select(),_?.(a)},fe=a=>{r||(g.current.focus(),ee?.(a))},me=({nativeEvent:a})=>{r||(P(""),d?.("",a),j?.(a))},M=t.jsx("textarea",{value:y||"",className:I("input-frame__input","aquiTextInput__input",{"--rtl":Te(y?.[0]),"--bold":G,"--disable-multiline":!x,"--under-tags":!!E}),placeholder:p,onFocus:de,onKeyDown:ce,onChange:pe,rows:x?void 0:1,onBlur:s,disabled:r,tabIndex:i,maxLength:q,autoComplete:"off","data-testid":"multilineInput",ref:ve(g,te)});return t.jsxs("div",{ref:ne,...oe,className:I(c,"input-section",{"--dark":m,"--light":!m,"--with-button":!!w,"--popover-open":re,"--char-counter-bottom":R==="bottom"}),"data-testid":Z,children:[t.jsxs("div",{ref:ae,className:I("input-frame","aquiTextInput__inputFrame",{"--disabled":r,"--invalid":J}),onClick:fe,children:[O(X,{className:I("input-frame__left-icon","aquiTextInput__leftIcon")}),E?t.jsx(z,{Tags:E,maxLines:W,tagLabel:U,textInputRefInner:g,textarea:M}):M,C&&t.jsx(Ie,{dataTestId:"textareaClearButton",onClick:me,className:I("input-frame__close-button","aquiTextInput__closeIcon",{"--visible":!!y})}),O(Y,{className:I("aquiTextInput__rightIcon")}),O(w,ie?{onPopoverOpenChange:se}:{}),R==="inside"&&t.jsx(D,{length:y.length,maxLength:q})]}),(R==="right"||R==="bottom")&&t.jsx(D,{length:y.length,maxLength:q})]})}),Fe={value:e.string,textInputRef:S,containerRef:S,setValue:e.func,disabled:e.bool,invalid:e.bool,bold:e.bool,className:e.string,dark:e.bool,placeholder:e.string,onClick:e.func,onChange:e.func,onKeyDown:e.func,onFocus:e.func,onBlur:e.func,autoFocus:e.oneOfType([e.bool,e.number]),inputMaxLength:e.number,selectOnFocus:e.bool,tabIndex:e.number,filterNewLine:e.bool,filterChars:e.oneOfType([e.string,e.instanceOf(RegExp),e.arrayOf(e.instanceOf(RegExp))]),growWithText:e.bool,withClearButton:e.bool,onClearButtonClick:e.func,LeftIcon:N,RightIcon:N,dataId:e.string,dataTestId:e.string,Button:N,Tags:e.array,maxTagsLines:e.number,tagLabel:e.string,charCounterPosition:e.oneOf(["bottom","right","inside"])};A.propTypes=Fe;A.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark use a dark theme",type:{name:"bool"},required:!1},selectOnFocus:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} selectOnFocus selects the content of the text input on focus event",type:{name:"bool"},required:!1},invalid:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} invalid colors the border red",type:{name:"bool"},required:!1},bold:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} bold makes the text bold",type:{name:"bool"},required:!1},Tags:{defaultValue:{value:"null",computed:!1},description:`@prop {[]} Tags an array of Tag elements,
@note this feature is not designed to work in conjunction with growWithText`,type:{name:"array"},required:!1},maxTagsLines:{defaultValue:{value:"2",computed:!1},description:"@prop {number} maxTagsLines the maximum number of lines the text input can grow to when using Tags",type:{name:"number"},required:!1},LeftIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} LeftIcon will be placed inside the text input to the left
@note this prop overrides RightIcon`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},RightIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} RightIcon will be placed inside the text input to the right
@note this prop is ignored when withClearButton=true`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},Button:{defaultValue:{value:"null",computed:!1},description:"@prop {Component|Jsx} Button",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},charCounterPosition:{defaultValue:{value:"null",computed:!1},description:`@prop {'bottom' | 'right' | 'inside'} charCounterPosition
@note if not specified charCounter will not be displayed`,type:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'right'",computed:!1},{value:"'inside'",computed:!1}]},required:!1},value:{description:"@prop {string} value",type:{name:"string"},required:!1},textInputRef:{description:`@prop {React.RefObject} textInputRef
this ref will be passed onto the native text input element inside the component`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},containerRef:{description:`@prop {React.RefObject} containerRef
this ref will be passed onto the outer container ref`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},setValue:{description:"@prop {func} setValue setState function, if not provided an internal state will be used",type:{name:"func"},required:!1},disabled:{description:"@prop {bool} disabled",type:{name:"bool"},required:!1},className:{description:`@prop {string} className
@note className is placed on outer container
inner global classes: ['aquiTextInput', 'aquiTextInput__leftIcon', 'aquiTextInput__rightIcon', 'aquiTextInput__inputFrame', 'aquiTextInput__input', 'aquiTextInput__closeIcon', 'aquiTextInput__validationErrorMessage']`,type:{name:"string"},required:!1},placeholder:{description:"@prop {string} placeholder",type:{name:"string"},required:!1},onClick:{description:`@prop {func} onClick
called with (event)`,type:{name:"func"},required:!1},onChange:{description:`@prop {func} onChange
called with (new value, event)`,type:{name:"func"},required:!1},onKeyDown:{description:`@prop {func} onKeyDown
called with (event)`,type:{name:"func"},required:!1},onFocus:{description:`@prop {func} onFocus
called with (event)`,type:{name:"func"},required:!1},onBlur:{description:`@prop {func} onBlur
called with (event)`,type:{name:"func"},required:!1},autoFocus:{description:`@prop {bool|number} autoFocus
@note you can you a positive number and increment it`,type:{name:"union",value:[{name:"bool"},{name:"number"}]},required:!1},inputMaxLength:{description:"@prop {number} inputMaxLength",type:{name:"number"},required:!1},tabIndex:{description:"@prop {number} tabIndex",type:{name:"number"},required:!1},filterNewLine:{description:"@prop {bool} filterNewLine",type:{name:"bool"},required:!1},filterChars:{description:`@prop {str|RegExp} filterChars
chars to filter, pass a string, a regex, or an array of regexs to use sequentialy`,type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"RegExp"},{name:"arrayOf",value:{name:"instanceOf",value:"RegExp"}}]},required:!1},growWithText:{description:"@prop {bool} growWithText defaults to true",type:{name:"bool"},required:!1},withClearButton:{description:"@prop {string} withClearButton",type:{name:"bool"},required:!1},onClearButtonClick:{description:`@prop {func} onClearButtonClick
called with (event)`,type:{name:"func"},required:!1},dataId:{description:`@prop {string} dataId
data identifier, a change in this prop will reset the component's inner state`,type:{name:"string"},required:!1},dataTestId:{description:"@prop {string} value",type:{name:"string"},required:!1},tagLabel:{description:"@prop {string} tagLabel the label for items in the hidden tags menu title",type:{name:"string"},required:!1}}};export{Ve as E,A as T,H as a,B as b,Fe as c};
