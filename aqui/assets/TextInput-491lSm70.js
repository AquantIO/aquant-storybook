import{j as t}from"./jsx-runtime-B3uN8q26.js";import{R as ge,r as n}from"./iframe-DQOe9z8z.js";import{j,c as O,P as e,b as _e,u as he,r as xe,a as be}from"./componentUtils-Cx--_a1r.js";import{a as ye}from"./MagnifyingGlassIcon-DtpVqX6w.js";import{d as ve}from"./misc-B0FWEJCq.js";import{i as k,a as H}from"./proptypes-Dp3Gscoq.js";import{C as qe}from"./ChevronIcon-CDzsw7LC.js";import{I as Ie}from"./IconFlip-Bw-cs_7t.js";import{T as Te}from"./Typography-Cqw5gf0-.js";import{P as D}from"./Popover-7kFcKhxs.js";import{M as Ce,a as we}from"./MenuItem-Dik_VUxC.js";import{M as Re}from"./MenuTitle-BBpMypHt.js";import{G as je}from"./Grow-C48QWCZw.js";const ke="_popover_qsf0r_145",F={"input-section":"_input-section_qsf0r_1","input-frame":"_input-frame_qsf0r_6","input-frame__icon":"_input-frame__icon_qsf0r_15","input-frame__close-button":"_input-frame__close-button_qsf0r_21","--light":"_--light_qsf0r_27","--dark":"_--dark_qsf0r_30","--visible":"_--visible_qsf0r_33","input-frame__left-icon":"_input-frame__left-icon_qsf0r_38","--popover-open":"_--popover-open_qsf0r_51","--disabled":"_--disabled_qsf0r_54","--invalid":"_--invalid_qsf0r_54","input-frame__input":"_input-frame__input_qsf0r_70","--bold":"_--bold_qsf0r_87","--under-tags":"_--under-tags_qsf0r_93","--rtl":"_--rtl_qsf0r_107","text-input-button":"_text-input-button_qsf0r_111","--with-icon":"_--with-icon_qsf0r_126","--pressed":"_--pressed_qsf0r_134","text-input-button__chevron-icon":"_text-input-button__chevron-icon_qsf0r_140",popover:ke},Ne=O.bind(F),V=ge.forwardRef(({text:o,className:f,RightIcon:a,dark:c=!1,pressed:m=!1,...u},d)=>t.jsxs("div",{...u,ref:d,className:Ne("text-input-button",f,{"--dark":c,"--with-icon":!!a,"--pressed":m}),children:[t.jsx(Te,{tag:"span",type:"body2",children:o}),j(a)]})),Oe={text:e.string,className:e.string,dark:e.bool,pressed:e.bool,RightIcon:k};V.propTypes=Oe;V.__docgenInfo={description:"",methods:[],displayName:"TextInputButton",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark",type:{name:"bool"},required:!1},pressed:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} pressed",type:{name:"bool"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {string} className",type:{name:"string"},required:!1},RightIcon:{description:"@prop {Component | JSX} RightIcon",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1}}};const S=O.bind(F),N=n.forwardRef(({children:o,text:f,onPopoverOpenChange:a=null,className:c},m)=>{const[u,d]=n.useState(null),_=x=>{a?.(!0),d(x.currentTarget)},h=()=>{a?.(!1),d(null)},s=!!u;return t.jsxs(t.Fragment,{children:[t.jsx(V,{ref:m,text:f,pressed:s,RightIcon:t.jsx(Ie,{flip:s,orientation:"horizontal",children:t.jsx(qe,{className:S("text-input-button__chevron-icon"),direction:"down"})}),onClick:_,className:c}),t.jsx(D,{className:S("popover"),open:s,anchorEl:u,onClose:h,onClick:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:o})]})}),Be={text:e.string,onPopoverOpenChange:e.func,className:e.string};N.propTypes=Be;N.__docgenInfo={description:"",methods:[],displayName:"TextInputPopoverButton",props:{onPopoverOpenChange:{defaultValue:{value:"null",computed:!1},description:"@prop {func} onPopoverOpenChange",type:{name:"func"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {strin} className",type:{name:"string"},required:!1}}};const Le={"tags-lines":"_tags-lines_jwtvy_1","tags-lines__tag":"_tags-lines__tag_jwtvy_8","hidden-tags-button":"_hidden-tags-button_jwtvy_12","tag-menu-item":"_tag-menu-item_jwtvy_20"},P=O.bind(Le),$=({Tags:o,maxLines:f,textarea:a,textInputRefInner:c,tagLabel:m="items"})=>{const[u,d]=n.useState(null),_=n.useRef(),h=n.useRef(),s=n.useRef([]).current,[x,q]=n.useState(!1);n.useLayoutEffect(()=>{const i=new Set;s.length=o.length;let l=null;const p=_.current;p.innerHTML="+444",p.style.display="block";for(const I of s)I.style.display="none";i.add(c.current.getBoundingClientRect().top);for(const[I,T]of s.entries())if(T.style.display="inline-flex",i.add(c.current.getBoundingClientRect().top),i.size>f){T.style.display="none",l=l??I;break}const b=l===null?0:o.length-l;b?(p.innerHTML=`+${b}`,p.style.display="block"):(p.style.display="none",q(!1)),d(l)},[s,o.length,c,f]);const B=!!u;return t.jsxs("div",{ref:h,className:P("tags-lines"),children:[n.Children.map(o,(i,l)=>t.jsx(je,{in:!0,children:_e(i,{ref:p=>s[l]=p,className:P("tags-lines__tag")})},i.key)),t.jsx("span",{onClick:()=>q(!0),ref:_,className:P("hidden-tags-button")}),B&&t.jsx(D,{open:x,anchorEl:_.current,anchorOrigin:{horizontal:"left",vertical:"top"},onClose:()=>q(!1),children:t.jsxs(Ce,{children:[t.jsx(Re,{children:`+${o.length-u} ${m}`.toUpperCase()}),n.Children.map(o,(i,l)=>l<u?null:t.jsx(we,{noninteractive:!0,children:i},i.key))]})}),a]})};$.__docgenInfo={description:"",methods:[],displayName:"TextInputTags",props:{tagLabel:{defaultValue:{value:"'items'",computed:!1},required:!1}}};const v=O.bind(F),Ee=13,K=n.forwardRef(({value:o,setValue:f,disabled:a,className:c,dark:m=!1,placeholder:u,onChange:d,onKeyDown:_,onFocus:h,onBlur:s,autoFocus:x,selectOnFocus:q=!1,inputMaxLength:B,tabIndex:i,filterNewLine:l,filterChars:p,growWithText:b,withClearButton:I,onClearButtonClick:T,invalid:z=!1,bold:A=!1,Tags:L=null,maxTagsLines:J=2,tagLabel:G,LeftIcon:W=null,RightIcon:U=null,dataId:X,dataTestId:Y,onClick:Q,textInputRef:Z,containerRef:ee,Button:C=null,...te},ne)=>{const[w,E]=he(o,f,""),g=n.useRef(),[oe,re]=n.useState(!1),ae=C===N||C?.type===N;n.useLayoutEffect(()=>{ie()},[w]),n.useEffect(()=>{typeof o=="string"&&E(o)},[o,X]),n.useEffect(()=>{x&&se()},[x]);const se=()=>{g.current.focus()},ie=()=>{b&&(g.current.style.height="0",g.current.style.height=xe(g.current.scrollHeight))},le=({nativeEvent:r})=>{let y=r.target.value;const fe=Array.isArray(p)?p:[p];for(const R of fe)typeof R=="string"?y=[...y].filter(me=>!R.includes(me)).join(""):R instanceof RegExp&&(y=y.replace(R,""));E(y),d?.(y,r)},pe=({nativeEvent:r})=>{l&&r.keyCode===Ee&&r.preventDefault(),_?.(r)},ue=({nativeEvent:r})=>{q&&g.current.select(),h?.(r)},ce=r=>{a||(g.current.focus(),Q?.(r))},de=({nativeEvent:r})=>{a||(E(""),d?.("",r),T?.(r))},M=t.jsx("textarea",{value:w||"",className:v("input-frame__input","aquiTextInput__input",{"--rtl":ve(w?.[0]),"--bold":A,"--disable-multiline":!b,"--under-tags":!!L}),placeholder:u,onFocus:ue,onKeyDown:pe,onChange:le,rows:b?void 0:1,onBlur:s,disabled:a,tabIndex:i,maxLength:B,autoComplete:"off","data-testid":"multilineInput",ref:be(g,Z)});return t.jsx("div",{ref:ee,...te,className:v(c,"input-section",{"--dark":m,"--light":!m,"--with-button":!!C,"--popover-open":oe}),"data-testid":Y,children:t.jsxs("div",{ref:ne,className:v("input-frame","aquiTextInput__inputFrame",{"--disabled":a,"--invalid":z}),onClick:ce,children:[j(W,{className:v("input-frame__left-icon","aquiTextInput__leftIcon")}),L?t.jsx($,{Tags:L,maxLines:J,tagLabel:G,textInputRefInner:g,textarea:M}):M,I&&t.jsx(ye,{dataTestId:"textareaClearButton",onClick:de,className:v("input-frame__close-button","aquiTextInput__closeIcon",{"--visible":!!w})}),j(U,{className:v("aquiTextInput__rightIcon")}),j(C,ae?{onPopoverOpenChange:re}:{})]})})}),Pe={value:e.string,textInputRef:H,containerRef:H,setValue:e.func,disabled:e.bool,invalid:e.bool,bold:e.bool,className:e.string,dark:e.bool,placeholder:e.string,onClick:e.func,onChange:e.func,onKeyDown:e.func,onFocus:e.func,onBlur:e.func,autoFocus:e.oneOfType([e.bool,e.number]),inputMaxLength:e.number,selectOnFocus:e.bool,tabIndex:e.number,filterNewLine:e.bool,filterChars:e.oneOfType([e.string,e.instanceOf(RegExp),e.arrayOf(e.instanceOf(RegExp))]),growWithText:e.bool,withClearButton:e.bool,onClearButtonClick:e.func,LeftIcon:k,RightIcon:k,dataId:e.string,dataTestId:e.string,Button:k,Tags:e.array,maxTagsLines:e.number,tagLabel:e.string};K.propTypes=Pe;K.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark use a dark theme",type:{name:"bool"},required:!1},selectOnFocus:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} selectOnFocus selects the content of the text input on focus event",type:{name:"bool"},required:!1},invalid:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} invalid colors the border red",type:{name:"bool"},required:!1},bold:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} bold makes the text bold",type:{name:"bool"},required:!1},Tags:{defaultValue:{value:"null",computed:!1},description:`@prop {[]} Tags an array of Tag elements,
@note this feature is not designed to work in conjunction with growWithText`,type:{name:"array"},required:!1},maxTagsLines:{defaultValue:{value:"2",computed:!1},description:"@prop {number} maxTagsLines the maximum number of lines the text input can grow to when using Tags",type:{name:"number"},required:!1},LeftIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} LeftIcon will be placed inside the text input to the left
@note this prop overrides RightIcon`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},RightIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} RightIcon will be placed inside the text input to the right
@note this prop is ignored when withClearButton=true`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},Button:{defaultValue:{value:"null",computed:!1},description:"@prop {Component|Jsx} Button",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},value:{description:"@prop {string} value",type:{name:"string"},required:!1},textInputRef:{description:`@prop {React.RefObject} textInputRef
this ref will be passed onto the native text input element inside the component`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},containerRef:{description:`@prop {React.RefObject} containerRef
this ref will be passed onto the outer container ref`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},setValue:{description:"@prop {func} setValue setState function, if not provided an internal state will be used",type:{name:"func"},required:!1},disabled:{description:"@prop {bool} disabled",type:{name:"bool"},required:!1},className:{description:`@prop {string} className
@note className is placed on outer container
inner global classes: ['aquiTextInput', 'aquiTextInput__leftIcon', 'aquiTextInput__rightIcon', 'aquiTextInput__inputFrame', 'aquiTextInput__input', 'aquiTextInput__closeIcon', 'aquiTextInput__validationErrorMessage']`,type:{name:"string"},required:!1},placeholder:{description:"@prop {string} placeholder",type:{name:"string"},required:!1},onClick:{description:`@prop {func} onClick
called with (event)`,type:{name:"func"},required:!1},onChange:{description:`@prop {func} onChange
called with (new value, event)`,type:{name:"func"},required:!1},onKeyDown:{description:`@prop {func} onKeyDown
called with (event)`,type:{name:"func"},required:!1},onFocus:{description:`@prop {func} onFocus
called with (event)`,type:{name:"func"},required:!1},onBlur:{description:`@prop {func} onBlur
called with (event)`,type:{name:"func"},required:!1},autoFocus:{description:`@prop {bool|number} autoFocus
@note you can you a positive number and increment it`,type:{name:"union",value:[{name:"bool"},{name:"number"}]},required:!1},inputMaxLength:{description:"@prop {number} inputMaxLength",type:{name:"number"},required:!1},tabIndex:{description:"@prop {number} tabIndex",type:{name:"number"},required:!1},filterNewLine:{description:"@prop {bool} filterNewLine",type:{name:"bool"},required:!1},filterChars:{description:`@prop {str|RegExp} filterChars
chars to filter, pass a string, a regex, or an array of regexs to use sequentialy`,type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"RegExp"},{name:"arrayOf",value:{name:"instanceOf",value:"RegExp"}}]},required:!1},growWithText:{description:"@prop {bool} growWithText defaults to true",type:{name:"bool"},required:!1},withClearButton:{description:"@prop {string} withClearButton",type:{name:"bool"},required:!1},onClearButtonClick:{description:`@prop {func} onClearButtonClick
called with (event)`,type:{name:"func"},required:!1},dataId:{description:`@prop {string} dataId
data identifier, a change in this prop will reset the component's inner state`,type:{name:"string"},required:!1},dataTestId:{description:"@prop {string} value",type:{name:"string"},required:!1},tagLabel:{description:"@prop {string} tagLabel the label for items in the hidden tags menu title",type:{name:"string"},required:!1}}};export{Ee as E,K as T,V as a,N as b,Pe as c};
