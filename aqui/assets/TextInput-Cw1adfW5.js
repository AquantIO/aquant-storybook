import{j as t}from"./jsx-runtime-BR7-kpXU.js";import{R as ve,r as n}from"./iframe-chqmMZez.js";import{j as B,c as V,P as e,b as be,u as xe,r as ye,a as Ie}from"./componentUtils-C3z4w1wL.js";import{a as Te}from"./MagnifyingGlassIcon-9yjNcxwu.js";import{d as qe}from"./misc-B0FWEJCq.js";import{i as E,a as K}from"./proptypes-DNSVG0bz.js";import{C as z}from"./CharCounter-CMWOKXz6.js";import{C as Ce}from"./ChevronIcon-_bHvIl4b.js";import{I as we}from"./IconFlip-CJlUhj-O.js";import{T as Re}from"./Typography-BF7kUqnf.js";import{P as J}from"./Popover-BKkT-_LL.js";import{M as Oe,a as ke}from"./MenuItem-B_PM7jsD.js";import{M as Ne}from"./MenuTitle-DNZ2-eJY.js";import{G as je}from"./Grow-DBRZ3M3i.js";const Le="_popover_vh2v6_149",S={"input-section":"_input-section_vh2v6_1","--char-counter-bottom":"_--char-counter-bottom_vh2v6_5","input-frame":"_input-frame_vh2v6_9","input-frame__icon":"_input-frame__icon_vh2v6_19","input-frame__close-button":"_input-frame__close-button_vh2v6_25","--light":"_--light_vh2v6_31","--dark":"_--dark_vh2v6_34","--visible":"_--visible_vh2v6_37","input-frame__left-icon":"_input-frame__left-icon_vh2v6_42","--popover-open":"_--popover-open_vh2v6_55","--disabled":"_--disabled_vh2v6_58","--invalid":"_--invalid_vh2v6_58","input-frame__input":"_input-frame__input_vh2v6_74","--bold":"_--bold_vh2v6_91","--under-tags":"_--under-tags_vh2v6_97","--rtl":"_--rtl_vh2v6_111","text-input-button":"_text-input-button_vh2v6_115","--with-icon":"_--with-icon_vh2v6_130","--pressed":"_--pressed_vh2v6_138","text-input-button__chevron-icon":"_text-input-button__chevron-icon_vh2v6_144",popover:Le},Be=V.bind(S),D=ve.forwardRef(({text:o,className:m,RightIcon:s,dark:u=!1,pressed:p=!1,...c},a)=>t.jsxs("div",{...c,ref:a,className:Be("text-input-button",m,{"--dark":u,"--with-icon":!!s,"--pressed":p}),children:[t.jsx(Re,{tag:"span",type:"body2",children:o}),B(s)]})),Ee={text:e.string,className:e.string,dark:e.bool,pressed:e.bool,RightIcon:E};D.propTypes=Ee;D.__docgenInfo={description:"",methods:[],displayName:"TextInputButton",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark",type:{name:"bool"},required:!1},pressed:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} pressed",type:{name:"bool"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {string} className",type:{name:"string"},required:!1},RightIcon:{description:"@prop {Component | JSX} RightIcon",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1}}};const A=V.bind(S),P=n.forwardRef(({children:o,text:m,onPopoverOpenChange:s=null,className:u},p)=>{const[c,a]=n.useState(null),g=y=>{s?.(!0),a(y.currentTarget)},x=()=>{s?.(!1),a(null)},d=!!c;return t.jsxs(t.Fragment,{children:[t.jsx(D,{ref:p,text:m,pressed:d,RightIcon:t.jsx(we,{flip:d,orientation:"horizontal",children:t.jsx(Ce,{className:A("text-input-button__chevron-icon"),direction:"down"})}),onClick:g,className:u}),t.jsx(J,{className:A("popover"),open:d,anchorEl:c,onClose:x,onClick:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:o})]})}),Pe={text:e.string,onPopoverOpenChange:e.func,className:e.string};P.propTypes=Pe;P.__docgenInfo={description:"",methods:[],displayName:"TextInputPopoverButton",props:{onPopoverOpenChange:{defaultValue:{value:"null",computed:!1},description:"@prop {func} onPopoverOpenChange",type:{name:"func"},required:!1},text:{description:"@prop {string} text",type:{name:"string"},required:!1},className:{description:"@prop {strin} className",type:{name:"string"},required:!1}}};const Ve={"tags-lines":"_tags-lines_5m4o0_1","tags-lines__tag":"_tags-lines__tag_5m4o0_8","hidden-tags-button":"_hidden-tags-button_5m4o0_12","--dark":"_--dark_5m4o0_19","tag-menu-item":"_tag-menu-item_5m4o0_23","hidden-tags-menu":"_hidden-tags-menu_5m4o0_27"},L=V.bind(Ve),G=({Tags:o,maxLines:m,textarea:s,textInputRefInner:u,tagLabel:p="items",tagSingleLabel:c,dark:a=!1})=>{const[g,x]=n.useState(null),d=n.useRef(),y=n.useRef(),_=n.useRef([]).current,I=o.length-g,F=I===1&&c?c:p,[H,v]=n.useState(!1);n.useLayoutEffect(()=>{const i=new Set;_.length=o.length;let l=null;const f=d.current;f.innerHTML="+444",f.style.display="block";for(const b of _)b.style.display="none";i.add(u.current.getBoundingClientRect().top);for(const[b,O]of _.entries())if(O.style.display="inline-flex",i.add(u.current.getBoundingClientRect().top),i.size>m){O.style.display="none",l=l??b;break}const R=l===null?0:o.length-l;R?(f.innerHTML=`+${R}`,f.style.display="block"):(f.style.display="none",v(!1)),x(l)},[_,o.length,u,m]);const w=!!g;return t.jsxs("div",{ref:y,className:L("tags-lines"),children:[n.Children.map(o,(i,l)=>t.jsx(je,{in:!0,children:be(i,{ref:f=>_[l]=f,className:L("tags-lines__tag")})},i.key)),t.jsx("span",{onClick:()=>v(!0),ref:d,className:L("hidden-tags-button",{"--dark":a})}),w&&t.jsx(J,{open:H,anchorEl:d.current,anchorOrigin:{horizontal:"left",vertical:"top"},onClose:()=>v(!1),children:t.jsxs(Oe,{dark:a,className:L("hidden-tags-menu",{"--dark":a}),children:[t.jsx(Ne,{dark:a,children:`+${I} ${F}`.toUpperCase()}),n.Children.map(o,(i,l)=>l<g?null:t.jsx(ke,{noninteractive:!0,dark:a,children:i},i.key))]})}),s]})};G.__docgenInfo={description:"",methods:[],displayName:"TextInputTags",props:{tagLabel:{defaultValue:{value:"'items'",computed:!1},required:!1},dark:{defaultValue:{value:"false",computed:!1},required:!1}}};const C=V.bind(S),Fe=13,W=n.forwardRef(({value:o,setValue:m,disabled:s,className:u,dark:p=!1,placeholder:c,onChange:a,onKeyDown:g,onFocus:x,onBlur:d,autoFocus:y,selectOnFocus:_=!1,inputMaxLength:I,tabIndex:F,filterNewLine:H,filterChars:v,growWithText:w,withClearButton:i,onClearButtonClick:l,invalid:f=!1,bold:R=!1,Tags:b=null,maxTagsLines:O=2,tagLabel:U,tagSingleLabel:X,LeftIcon:Y=null,RightIcon:Q=null,dataId:Z,dataTestId:ee,onClick:te,textInputRef:ne,containerRef:oe,Button:k=null,charCounterPosition:N=null,...ae},re)=>{const[T,M]=xe(o,m,""),h=n.useRef(),[se,ie]=n.useState(!1),le=k===P||k?.type===P;n.useLayoutEffect(()=>{pe()},[T]),n.useEffect(()=>{typeof o=="string"&&M(o)},[o,Z]),n.useEffect(()=>{y&&ue()},[y]);const ue=()=>{h.current.focus()},pe=()=>{w&&(h.current.style.height="0",h.current.style.height=ye(h.current.scrollHeight))},ce=({nativeEvent:r})=>{let q=r.target.value;const ge=Array.isArray(v)?v:[v];for(const j of ge)typeof j=="string"?q=[...q].filter(_e=>!j.includes(_e)).join(""):j instanceof RegExp&&(q=q.replace(j,""));M(q),a?.(q,r)},de=({nativeEvent:r})=>{H&&r.keyCode===Fe&&r.preventDefault(),g?.(r)},fe=({nativeEvent:r})=>{_&&h.current.select(),x?.(r)},me=r=>{s||(h.current.focus(),te?.(r))},he=({nativeEvent:r})=>{s||(M(""),a?.("",r),l?.(r))},$=t.jsx("textarea",{value:T||"",className:C("input-frame__input","aquiTextInput__input",{"--rtl":qe(T?.[0]),"--bold":R,"--disable-multiline":!w,"--under-tags":!!b}),placeholder:c,onFocus:fe,onKeyDown:de,onChange:ce,rows:w?void 0:1,onBlur:d,disabled:s,tabIndex:F,maxLength:I,autoComplete:"off","data-testid":"multilineInput",ref:Ie(h,ne)});return t.jsxs("div",{ref:oe,...ae,className:C(u,"input-section",{"--dark":p,"--light":!p,"--with-button":!!k,"--popover-open":se,"--char-counter-bottom":N==="bottom"}),"data-testid":ee,children:[t.jsxs("div",{ref:re,className:C("input-frame","aquiTextInput__inputFrame",{"--disabled":s,"--invalid":f}),onClick:me,children:[B(Y,{className:C("input-frame__left-icon","aquiTextInput__leftIcon")}),b?t.jsx(G,{Tags:b,maxLines:O,tagLabel:U,tagSingleLabel:X,textInputRefInner:h,textarea:$,dark:p}):$,i&&t.jsx(Te,{dataTestId:"textareaClearButton",onClick:he,className:C("input-frame__close-button","aquiTextInput__closeIcon",{"--visible":!!T})}),B(Q,{className:C("aquiTextInput__rightIcon")}),B(k,le?{onPopoverOpenChange:ie}:{}),N==="inside"&&t.jsx(z,{length:T.length,maxLength:I})]}),(N==="right"||N==="bottom")&&t.jsx(z,{length:T.length,maxLength:I})]})}),He={value:e.string,textInputRef:K,containerRef:K,setValue:e.func,disabled:e.bool,invalid:e.bool,bold:e.bool,className:e.string,dark:e.bool,placeholder:e.string,onClick:e.func,onChange:e.func,onKeyDown:e.func,onFocus:e.func,onBlur:e.func,autoFocus:e.oneOfType([e.bool,e.number]),inputMaxLength:e.number,selectOnFocus:e.bool,tabIndex:e.number,filterNewLine:e.bool,filterChars:e.oneOfType([e.string,e.instanceOf(RegExp),e.arrayOf(e.instanceOf(RegExp))]),growWithText:e.bool,withClearButton:e.bool,onClearButtonClick:e.func,LeftIcon:E,RightIcon:E,dataId:e.string,dataTestId:e.string,Button:E,Tags:e.array,maxTagsLines:e.number,tagLabel:e.string,tagSingleLabel:e.string,charCounterPosition:e.oneOf(["bottom","right","inside"])};W.propTypes=He;W.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{dark:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} dark use a dark theme",type:{name:"bool"},required:!1},selectOnFocus:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} selectOnFocus selects the content of the text input on focus event",type:{name:"bool"},required:!1},invalid:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} invalid colors the border red",type:{name:"bool"},required:!1},bold:{defaultValue:{value:"false",computed:!1},description:"@prop {bool} bold makes the text bold",type:{name:"bool"},required:!1},Tags:{defaultValue:{value:"null",computed:!1},description:`@prop {[]} Tags an array of Tag elements,
@note this feature is not designed to work in conjunction with growWithText`,type:{name:"array"},required:!1},maxTagsLines:{defaultValue:{value:"2",computed:!1},description:"@prop {number} maxTagsLines the maximum number of lines the text input can grow to when using Tags",type:{name:"number"},required:!1},LeftIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} LeftIcon will be placed inside the text input to the left
@note this prop overrides RightIcon`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},RightIcon:{defaultValue:{value:"null",computed:!1},description:`@prop {Component|Jsx} RightIcon will be placed inside the text input to the right
@note this prop is ignored when withClearButton=true`,type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},Button:{defaultValue:{value:"null",computed:!1},description:"@prop {Component|Jsx} Button",type:{name:"union",value:[{name:"func"},{name:"string"},{name:"node"},{name:"element"},{name:"shape",value:{render:{name:"func",required:!0}}}]},required:!1},charCounterPosition:{defaultValue:{value:"null",computed:!1},description:`@prop {'bottom' | 'right' | 'inside'} charCounterPosition
@note if not specified charCounter will not be displayed`,type:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'right'",computed:!1},{value:"'inside'",computed:!1}]},required:!1},value:{description:"@prop {string} value",type:{name:"string"},required:!1},textInputRef:{description:`@prop {React.RefObject} textInputRef
this ref will be passed onto the native text input element inside the component`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},containerRef:{description:`@prop {React.RefObject} containerRef
this ref will be passed onto the outer container ref`,type:{name:"union",value:[{name:"func"},{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}}]},required:!1},setValue:{description:"@prop {func} setValue setState function, if not provided an internal state will be used",type:{name:"func"},required:!1},disabled:{description:"@prop {bool} disabled",type:{name:"bool"},required:!1},className:{description:`@prop {string} className
@note className is placed on outer container
inner global classes: ['aquiTextInput', 'aquiTextInput__leftIcon', 'aquiTextInput__rightIcon', 'aquiTextInput__inputFrame', 'aquiTextInput__input', 'aquiTextInput__closeIcon', 'aquiTextInput__validationErrorMessage']`,type:{name:"string"},required:!1},placeholder:{description:"@prop {string} placeholder",type:{name:"string"},required:!1},onClick:{description:`@prop {func} onClick
called with (event)`,type:{name:"func"},required:!1},onChange:{description:`@prop {func} onChange
called with (new value, event)`,type:{name:"func"},required:!1},onKeyDown:{description:`@prop {func} onKeyDown
called with (event)`,type:{name:"func"},required:!1},onFocus:{description:`@prop {func} onFocus
called with (event)`,type:{name:"func"},required:!1},onBlur:{description:`@prop {func} onBlur
called with (event)`,type:{name:"func"},required:!1},autoFocus:{description:`@prop {bool|number} autoFocus
@note you can you a positive number and increment it`,type:{name:"union",value:[{name:"bool"},{name:"number"}]},required:!1},inputMaxLength:{description:"@prop {number} inputMaxLength",type:{name:"number"},required:!1},tabIndex:{description:"@prop {number} tabIndex",type:{name:"number"},required:!1},filterNewLine:{description:"@prop {bool} filterNewLine",type:{name:"bool"},required:!1},filterChars:{description:`@prop {str|RegExp} filterChars
chars to filter, pass a string, a regex, or an array of regexs to use sequentialy`,type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"RegExp"},{name:"arrayOf",value:{name:"instanceOf",value:"RegExp"}}]},required:!1},growWithText:{description:"@prop {bool} growWithText defaults to true",type:{name:"bool"},required:!1},withClearButton:{description:"@prop {string} withClearButton",type:{name:"bool"},required:!1},onClearButtonClick:{description:`@prop {func} onClearButtonClick
called with (event)`,type:{name:"func"},required:!1},dataId:{description:`@prop {string} dataId
data identifier, a change in this prop will reset the component's inner state`,type:{name:"string"},required:!1},dataTestId:{description:"@prop {string} value",type:{name:"string"},required:!1},tagLabel:{description:"@prop {string} tagLabel the label for items in the hidden tags menu title. Default is 'items'.",type:{name:"string"},required:!1},tagSingleLabel:{description:"@prop {string} tagSingleLabel the label for a single item in the hidden tags menu title. If not provided, the tagLabel will be displayed.",type:{name:"string"},required:!1}}};export{Fe as E,W as T,D as a,P as b,He as c};
